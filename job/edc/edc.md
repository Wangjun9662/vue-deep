### EDC 的迭代与维护
#### 项目概述
EDC（动态组件）是面向美团全公司的前端组件动态化方案。在EDC平台上不仅可以快捷开发、发布、使用和分享组件，也可以使用灰度能力进行组件的灵活分发。同时，组件的迭代更新，无需前端再次发版即可应用，并支持组件跨框架使用。
#### 个人职责
独立负责SDK和平台服务的迭代与维护，时间：202109 - 202312
#### 项目难点
1.服务稳定性保障，支撑日均百万级的访问量。
2.人力短缺的情况下，做好迭代并提供更好的服务。
动作：
1. 功能扩展。
    支持Vue3
    支持web component
2. 性能和稳定性保障。
    发现问题并解决：
    服务端内存泄漏问题。使用了LRU缓存接口的响应数据，随着组件数量的增加，缓存值激增，触发机器的OOM。本质上是不合理的接口设计。
    数据库设计规范性治理。不合理的表设计，导致字段超长溢出。
3. 客户服务和运营，跨团队拉共建资源。
    和用户积极的沟通，及时处理问题，通过回访、问卷，做需求收集，并满足需求。体现在组件数量的增加和增长速度
    共建需求：上线管控能力
    EDC结合低代码平台天河
#### 工作成果
全平台组件数量：2300+
组件最高复用次数：440+，复用次数达20次的组件有16个
开发者800+
接入项目890+

负责期间：组件数量从600 -> 2100，开发者 300 -> 800, 项目 280 -> 890
解决问题数量：200+


实现细节：
1、EDC 实现动态组件的核心原理
    edc-core
      EDCInstance模块：EDC组件实例
        实例属性：id、_uid、key、tag、type、framework、sandbox、delay、timeout、registry、dev、query、cache、template、_context等
        实例方法：callHook（调用生命周期函数）、destroy（实例销毁）、ready（入口函数，调用load，获取load完毕后的promise）、load（创建template（一个模板对应多个实例，避免重复操作）、）、loadService、setup（启动组件的渲染）
      EDCTemplate模块：管理edc实例，负责组建资源的加载，避免相同组件的资源重复加载

      EDCRegistry模块：负责组建的注册，包括组件基础配置、实例创建，模板创建等

      EDCContext模块：实例上下文管理

      模块之间的关系：
      主要流程：
    动态配置获取
    缓存
2、cli实现
    热更新
    打包
3、跨框架原理
    dom模式和组件模式
4、Vue3支持
    api的改动，新的兼容
    cli的兼容
5、web component
    更好的夸框架方案